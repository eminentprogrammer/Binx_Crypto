fetch("http://localhost:8000/get_banks/",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*","Accept-language":"en-GB,en-US;q=0.9,en;q=0.8"}}).then((e=>e.json())).then((e=>{const t=document.getElementById("bank");t.innerHTML='<option value="0">Select Bank</option>',e.data.forEach((e=>{let n=document.createElement("option");n.text=e.name,n.value=e.code,n.setAttribute("data-subtext",e.name),t.appendChild(n)}))})).catch(console.error);const recipient_name=document.getElementById("recipient_name"),accountInput=document.getElementById("recipient");accountInput.addEventListener("keydown",(e=>{recipient_name.value="",document.querySelector(".message_success-col").classList.remove("active"),document.querySelector(".message_error-col").classList.remove("active"),"Enter"===e.key&&(e.preventDefault(),document.querySelector("#submit").click())})),document.getElementById("payment-form").addEventListener("submit",(e=>{e.preventDefault();const t=document.querySelector("[name=csrfmiddlewaretoken]").value,n={recipient:document.querySelector("#recipient").value,bank:document.querySelector("#bank").value};fetch("/make_transfer/",{method:"POST",mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*","Accept-language":"en-GB,en-US;q=0.9,en;q=0.8","X-CSRFToken":t},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{1==e.status?(recipient_name.value=e.data.account_name,document.querySelector("#submit").classList.remove("active"),document.querySelector(".message_success-col").classList.add("active"),document.getElementById("message_success").innerHTML=e.message):0==e.status&&(document.querySelector(".message_error-col").classList.add("active"),document.getElementById("message_error").innerHTML=e.message)})).catch(console.error)}));